$schema: http://json-schema.org/draft-07/schema#
title: DAHAO Proposal Schema
description: Schema for DAO proposals
type: object
required:
  - id
  - title
  - type
  - author
  - description
  - status
  - created_date
properties:
  id:
    type: string
    pattern: "^[A-Z]+-\\d+$"
    description: Unique proposal identifier (e.g., DIP-001)
  title:
    type: string
    description: Proposal title
  type:
    type: string
    enum:
      - constitutional
      - governance
      - treasury
      - operational
      - emergency
    description: Type of proposal
  author:
    type: string
    description: Author member ID or address
  co_authors:
    type: array
    items:
      type: string
    description: Co-author member IDs
  description:
    type: string
    description: Detailed proposal description
  rationale:
    type: string
    description: Reasoning behind the proposal
  specification:
    type: object
    description: Technical specification
    properties:
      changes:
        type: array
        items:
          type: object
          properties:
            type:
              type: string
              enum: [add, modify, remove]
            target:
              type: string
            details:
              type: object
      implementation:
        type: string
        description: Implementation plan
      timeline:
        type: array
        items:
          type: object
          properties:
            phase:
              type: string
            duration:
              type: integer
            deliverables:
              type: array
              items:
                type: string
  impact:
    type: object
    properties:
      economic:
        type: string
      governance:
        type: string
      technical:
        type: string
  voting:
    type: object
    properties:
      start_date:
        type: string
        format: date-time
      end_date:
        type: string
        format: date-time
      quorum_required:
        type: number
        minimum: 0
        maximum: 1
      threshold_required:
        type: number
        minimum: 0
        maximum: 1
      results:
        type: object
        properties:
          yes:
            type: integer
            minimum: 0
          no:
            type: integer
            minimum: 0
          abstain:
            type: integer
            minimum: 0
          turnout:
            type: number
            minimum: 0
            maximum: 1
  status:
    type: string
    enum:
      - draft
      - discussion
      - voting
      - passed
      - rejected
      - implemented
      - cancelled
  created_date:
    type: string
    format: date-time
  updated_date:
    type: string
    format: date-time
  discussion_link:
    type: string
    format: uri
    description: Link to proposal discussion
  metadata:
    type: object
    properties:
      tags:
        type: array
        items:
          type: string
      priority:
        type: string
        enum: [low, medium, high, critical]
      dependencies:
        type: array
        items:
          type: string
        description: IDs of dependent proposals