$schema: http://json-schema.org/draft-07/schema#
title: DAHAO Document Schema
description: Schema for DAHAO constitution and governance documents
type: object
required:
  - id
  - version
  - title
  - sections
properties:
  id:
    type: string
    pattern: "^[a-z0-9-]+$"
    description: Unique identifier for the document
  version:
    type: string
    pattern: "^\\d+\\.\\d+\\.\\d+$"
    description: Semantic version of the document
  title:
    type: string
    description: Human-readable title
  description:
    type: string
    description: Brief description of the document
  sections:
    type: array
    items:
      type: object
      required:
        - id
        - title
        - content
      properties:
        id:
          type: string
          pattern: "^[a-z0-9-]+$"
        title:
          type: string
        content:
          type: string
        subsections:
          type: array
          items:
            $ref: "#/properties/sections/items"
  metadata:
    type: object
    properties:
      created:
        type: string
        format: date-time
      modified:
        type: string
        format: date-time
      authors:
        type: array
        items:
          type: string
      tags:
        type: array
        items:
          type: string